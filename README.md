# ëƒ‰ì‹¸ë¶€ - ëƒ‰ì¥ê³ ë¥¼ ì‹¸ê·¸ë¦¬ ë¶€íƒí•´
<img src="https://github.com/SSABOODA/HomeRefrigeratorManagement/assets/69753846/096ebcbc-863b-46e1-9634-06b092c08861" height="100" width="100">

## í”„ë¡œì íŠ¸ ì†Œê°œ
<p align="center" width="100%">
  <img src="https://github.com/SSABOODA/HomeRefrigeratorManagement/assets/69753846/8ffedb94-b078-49f3-ad64-79426b8c723d" width="100%">
</p>

### ì•± ìŠ¤í† ì–´ ë§í¬
[ëƒ‰ì‹¸ë¶€ - ëƒ‰ì¥ê³ ë¥¼ ì‹¸ê·¸ë¦¬ ë¶€íƒí•´](https://apps.apple.com/kr/app/%EB%83%89%EC%8B%B8%EB%B6%80-%EB%83%89%EC%9E%A5%EA%B3%A0%EB%A5%BC-%EC%8B%B8%EA%B7%B8%EB%A6%AC-%EB%B6%80%ED%83%81%ED%95%B4/id6470002194)

### ì•± ì†Œê°œ
ëƒ‰ì¥ê³ ì— ìŒ“ì—¬ìˆë˜ ìŒì‹ë“¤ì˜ ìœ í†µê¸°í•œì„ í¸í•˜ê²Œ ê´€ë¦¬í•˜ê³  ì†Œë¹„ë˜ëŠ” ì¬êµ¬ë§¤í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” ì•±ì…ë‹ˆë‹¤.

- ì‹í’ˆ êµ¬ë§¤ì¼ì, ìœ í†µê¸°í•œ ì •ë³´ ì €ì¥
- ìº˜ë¦°ë”ë¥¼ í†µí•œ ìœ í†µê¸°í•œ ë³„ ì‹í’ˆì˜ ë ˆì‹œí”¼ ê²€ìƒ‰
- í˜„ì¬ ë‚¨ì•„ìˆëŠ” ì‹í’ˆì´ ìˆë‹¤ë©´ ë¹ ë¥´ê²Œ 'ì†Œë¹„í•˜ê¸°' ê¸°ëŠ¥ì„ í†µí•´ ì†Œë¹„í•˜ê±°ë‚˜ ëª¨ìë€ ì‹í’ˆì´ ìˆë‹¤ë©´ êµ¬ë§¤ í™•ì¸
- ì°¨íŠ¸ë¥¼ í†µí•´ í˜„ì¬ ë³´ê´€ ì‹í’ˆì˜ ì¢…ë¥˜ë³„ í˜„í™©ì„ íŒŒì•…
- ìœ í†µê¸°í•œì´ ì§€ë‚¬ê±°ë‚˜, ì„ë°•í•œ ìƒí’ˆì´ ìˆë‹¤ë©´ í‘¸ì‰¬ ì•Œë¦¼ì„ í†µí•´ ê´€ë¦¬ ìœ ë„

### í”„ë¡œì íŠ¸ ê¸°ê°„
- 2023.09.25 ~ 23.10.21(4ì£¼) - í˜„ì¬ ì—…ë°ì´íŠ¸ ì§„í–‰ ì¤‘

### í”„ë¡œì íŠ¸ ì°¸ì—¬ ì¸ì›
- 1ëª…(ê°œì¸) - ì¶œì‹œ

<br>
<br>

## ì‚¬ìš©ëœ ê¸°ìˆ  ìŠ¤íƒ
- **Framework**
`UIKit`
- **Library**
`Realm`, `Snapkit`,
`DGCharts`, `FSCalendar`, `IQKeyboardManager`, `Toast`
, `Firebase(Analytics, Crashlytics)`
- **Design Pattern**
`MVVM(+Bind)`, `Repository Pattern`, `Singleton Pattern`
- **Etc**
`Code Base UI`, `Modern CollectionView`, `CompositionalLayout`

<br>
<br>

êµ¬í˜„ ê¸°ëŠ¥
- ëª¨ë“  ViewëŠ” **Modern Collection View**ë¥¼ ì‚¬ìš©í•˜ì—¬ UIë¥¼ êµ¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.
- **UICollectionViewDiffableDataSource**ì˜  ì‚¬ìš©í•˜ì—¬ ê²€ìƒ‰ ì‹œ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ë¥¼ ê°€ì§„ ë°ì´í„° ë³€ê²½ì´ ì¼ì–´ë‚˜ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
- **UnicodeScalar**ê°’ì„ í™œìš©í•´ í•œê¸€ **ì´ˆì„± ê²€ìƒ‰**ì´ ê°€ëŠ¥í•˜ë„ë¡í•˜ì—¬ ë°ì´í„° ë³€ê²½ ì‚¬í•­ ì• ë‹ˆë©”ì´ì…˜ì„ ì ê·¹ í™œìš©í•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
- **FSCalendar** ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ Customí•˜ì—¬ eventë¥¼ ì‹í’ˆ iconìœ¼ë¡œ ëŒ€ì²´í•˜ì—¬ **ì‚¬ìš©ì ì¹œí™”ì  UI**ë¥¼ êµ¬í˜„í•˜ë„ë¡í•˜ì˜€ìŠµë‹ˆë‹¤.
- **DGCharts** ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•´ ì €ì¥ëœ ì‹í’ˆ ì¹´í…Œê³ ë¦¬ ë¹„ìœ¨ë¡œ **pieChart**ë¡œ ë‚˜íƒ€ë‚´ì–´ ì²´ê³„ì  ê´€ë¦¬ë¥¼ í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
- **NotificationCenter**ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹œìŠ¤í…œ ì•Œë¦¼ ì„¤ì •ê³¼ ì¸ì•± ì•Œë¦¼ ì„¤ì • ìƒíƒœ **ë™ê¸°í™”**ë¥¼ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
- **NotificationCenter**ê´€ë ¨ ì½”ë“œëŠ” **Repository Pattern**ì„ í™œìš©í•˜ì—¬ ì½”ë“œ ì¬ì‚¬ìš©ì„±ê³¼ ê°€ë…ì„±ì„ ì¦ê°€ì‹œì¼°ìŠµë‹ˆë‹¤.
 
<br>
<br>

## í”„ë¡œì íŠ¸ ê¸°íš ë° ê¸°ë¡
- [ê¸°íš ë° ì‘ì—… ê¸°ë¡](https://thankful-gymnast-355.notion.site/1c2d64adac9c4c219347d7b6ca2287a2?pvs=4)
- [ì•± ì¶œì‹œ íšŒê³  ë¸”ë¡œê·¸](https://ios-developer-hans.tistory.com/17)

<br>
<br>

## Trouble Shooting
### 1. ì•± ë‚´ì˜ 'ì•Œë¦¼ ì„¤ì •'ê³¼ ì‹œìŠ¤í…œ ì„¤ì •ì˜ 'ì•Œë¦¼ ì„¤ì •' ë™ê¸°í™” ë¬¸ì œ
```
- ì•± ìµœì´ˆ ì‹¤í–‰ì‹œ ì•Œë¦¼ í—ˆìš© O
    - ì‹œìŠ¤í…œ ì•Œë¦¼ í—ˆìš© O ìƒíƒœ
    - ì•± ë‚´ ì•Œë¦¼ í—ˆìš© O -> í‘¸ì‰¬ ì•Œë¦¼ O
    - ì•± ë‚´ ì•Œë¦¼ í—ˆìš© X -> í‘¸ì‰¬ ì•Œë¦¼ X
- ì•± ìµœì´ˆ ì‹¤í–‰ì‹œ ì•Œë¦¼ í—ˆìš© X
    - ì‹œìŠ¤í…œ ì•Œë¦¼ í—ˆìš© X ìƒíƒœ
    - ì•± ë‚´ ì•Œë¦¼ í—ˆìš© O -> ì‹œìŠ¤í…œ ì•Œë¦¼ í—ˆìš© ìƒíƒœì™€ ë™ê¸°í™” -> ì•± ë‚´ ì•Œë¦¼ ìƒíƒœ X
    - ì•± ë‚´ ì•Œë¦¼ í—ˆìš© X -> í‘¸ì‰¬ ì•Œë¦¼ X
```
#### ë¬¸ì œ ìƒí™©
- ì„¤ì • ë·°ì— ë“¤ì–´ì™”ì„ ë•Œ `UNUserNotificationCenter` í´ë˜ìŠ¤ì˜ `authorizationStatus` ì†ì„±ì„ í†µí•´ í˜„ì¬ ì•Œë¦¼ ê¶Œí•œ ìƒíƒœ ì²´í¬
- ì‚¬ìš©ìê°€ ìµœì´ˆ ì•ŒëŒì„ í—ˆìš©ì„ í•œ ë’¤ ì‹œìŠ¤í…œ ì„¤ì •ì— ê°€ì„œ ì•Œë¦¼ ìƒíƒœë¥¼ Offë¡œ í–ˆì„ ë•Œ ë¬¸ì œê°€ ë°œìƒ
- í‘¸ì‰¬ ì•Œë¦¼ì€ ë” ì´ìƒ ë³´ë‚´ë©´ ì•ˆë˜ë¯€ë¡œ ì•± ë‚´ì—ì„œë„ Off ìƒíƒœë¡œ ë™ê¸°í™”ë¥¼ í•´ì¤˜ì•¼í•˜ëŠ” ë¬¸ì œ

í•˜ì§€ë§Œ viewWillApperì— ì•Œë¦¼ ìƒíƒœ ê¶Œí•œì„ ì²´í¬í•˜ëŠ” ë¡œì§ì´ ë“¤ì–´ê°€ ìˆì—ˆëŠ”ë°, ì´ëŠ” ì‚¬ìš©ìê°€ ì•±ì„ backgroundìƒíƒœë¡œ í•œ ë’¤ ë‹¤ì‹œ ì•±ì„ ì¼œ foreground ìƒíƒœë¡œ ëŒë¦°ë‹¤ í•˜ë”ë¼ë„,
viewWillApperê°€ ì¬ì‹¤í–‰ë˜ì§€ ì•Šì•„ ì‹œìŠ¤í…œ ì•Œë¦¼ ê¶Œí•œ ì„¤ì • ìƒíƒœë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì²´í¬í•˜ì§€ ëª»í•´ ë™ê¸°í™”í•˜ì§€ ëª»í•˜ëŠ” ë¬¸ì œê°€ ë°œìƒ

#### ë¬¸ì œ í•´ê²°
- sceneWillEnterForeground ë©”ì„œë“œì™€, NotificationCenter í™œìš©í•˜ì—¬ í•´ê²°
- ì‚¬ìš©ìê°€ ë‹¤ì‹œ ì•±ì„ ì‹¤í–‰í•  ë•Œë§ˆë‹¤, ì¦‰ sceneWillEnterForeground ë©”ì„œë“œê°€ ì‹¤í–‰ë  ë•Œë§ˆë‹¤ ê¶Œí•œ ì²´í¬í•˜ì—¬ SettingViewControllerì— ì•Œë ¤ì¤„ ìˆ˜ ìˆìœ¼ë©´ í•´ê²°í•  ìˆ˜ ìˆë‹¤ê³  íŒë‹¨í•˜ì˜€ìŠµë‹ˆë‹¤.

```swift
// SceneDelegate.swift
class SceneDelegate: UIResponder, UIWindowSceneDelegate {
    func sceneWillEnterForeground(_ scene: UIScene) {
	NotificationCenter.default.post(
	    name: NSNotification.Name("permission"),
	    object: nil
        )
    }
}
```

```swift
// AlarmViewController.swift
final class AlarmViewController: BaseViewController {
    override func viewDidLoad() {
        super.viewDidLoad()
        startAddObserver()
    }

    private func startAddObserver() {
        NotificationCenter.default.addObserver(
            self,
            selector: #selector(checkNotificationSetting),
            name: UIApplication.willEnterForegroundNotification,
            object: nil
        )
    }

    @objc private func checkNotificationSetting(notification: NSNotification) {
        UserNotificationRepository.shared.checkPermission { [weak self] value in
            self?.setSwitchValue(UserDefaultsHelper.standard.permission)
        }
    }

    private func setSwitchValue(_ permission: Bool) {
        DispatchQueue.main.async { [weak self] in
            if permission {
                self?.switchView.setOn(permission, animated: true)
                self?.footerView.isHidden = !permission
	    } else {
		self?.switchView.setOn(permission, animated: true)
		self?.footerView.isHidden = !permission
            }
        }
    }
}
```

<br>

### 2. Realmê³¼ DiffableDatasourceë¥¼ ì‚¬ìš©í–ˆì„ ë•Œ Delete ì‹œ í¬ë˜ì‹œ ë¬¸ì œ

#### ë¬¸ì œ ìƒí™©
- ì‹í’ˆì„ ë“±ë¡í•˜ëŠ” ë©”ì¸ ë·°ëŠ” í˜„ì¬ `DiffableDatasource` ê¸°ë°˜ìœ¼ë¡œ CollectionViewë¡œ êµ¬í˜„ë˜ì–´ ìˆê³ , Realm Databaseë¥¼ ê°™ì´ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.  
- ë¬¸ì œëŠ” Realmì—ì„œ ë°ì´í„°ë¥¼ ì‚­ì œí–ˆì„ ë•Œ ë°œìƒí–ˆë‹¤. `DiffableDatasource` ëŠ” ë·°ì˜ ê°±ì‹ ì„ ìœ„í•´ ë·°ì˜ í˜„ì¬ ë°ì´í„° ìƒíƒœë¥¼ ìŠ¤ëƒ…ìƒ·ì„ í†µí•´ ë³´ê´€í•˜ê³  ìˆëŠ”ë° ì•„ë˜ ì˜ˆì‹œì²˜ëŸ¼ í•´ë‹¹ ë°ì´í„°ê°€ ì‚­ì œë˜ë©´ì„œ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
```
DiffableDatasource - diff -> DiffableDatasource
Realm<Object>1               Realm<Object>1
Realm<Object>2               Realm<Object>2
Realm<Object>3 -> delete     Realm<Object>4
Realm<Object>4
```
ë°ì´í„°ë¥¼ ì‚­ì œ í•œ ì§í›„ ë°”ë¡œ snapshotì„ í†µí•´ ë°ì´í„°ë¥¼ ì¬êµ¬ì„±í•˜ê²Œë˜ë©´ Realmì—ì„œ ì˜ˆì™¸ì²˜ë¦¬ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
```
Terminating app due to uncaught exception 'RLMException', reason: 'Object has been deleted or invalidated.'
terminating with uncaught exception of type NSException
```
`RLMException` ì—ëŸ¬ê°€ ë°œìƒí–ˆê³  Objectê°€ ì‚­ì œë˜ì—ˆê±°ë‚˜, ìœ íš¨í•˜ì§€ ì•Šë‹¤ëŠ” ë‚´ìš©ì˜ ì—ëŸ¬ì…ë‹ˆë‹¤.
Realmì—ì„œ ë°ì´í„°ë¥¼ ì‚­ì œí•œ ë’¤ í•´ë‹¹ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ê±°ë‚˜ ì¶œë ¥ë§Œ í•˜ë ¤í•´ë„ ì—ëŸ¬ê°€ ë°œìƒí•˜ê²Œë©ë‹ˆë‹¤.

#### ë¬¸ì œ í•´ê²°
- ë°ì´í„°ë¥¼ ì‚­ì œí•˜ëŠ” ViewModelì—ì„œ Closureë¥¼ í†µí•´ ë°ì´í„° ì‚­ì œ ì—¬ë¶€ë¥¼ ì „ë‹¬í•˜ëŠ” ë°©ì‹

ë°ì´í„°ê°€ ì‚­ì œë˜ì—ˆë‹¤ë©´ snapshot ë©”ì„œë“œê°€ ìˆëŠ” ë·°ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ë°ì´í„° ì‚­ì œ ì—¬ë¶€ë¥¼ completionHandlerë¥¼ í†µí•´ ì „ë‹¬í•˜ì˜€ê³ , 
snapshotì„ ì‹¤í–‰í•˜ëŠ” ì‹œì ì— ë¶„ê¸°ì²˜ë¦¬ë¥¼ í†µí•´ ì§ì ‘ snapshot itemì— delete ë©”ì„œë“œë¥¼ í†µí•´ ë™ê¸°í™” ì‹œì¼œì£¼ëŠ” ë°©ì‹ìœ¼ë¡œ í•´ê²°í–ˆìŠµë‹ˆë‹¤.

- ë°ì´í„° ì‚­ì œ Scene - ViewController
```swift
final class FoodDetailManagementViewController: BaseViewController {
    let viewModel = FoodDetailManagementViewModel()

    @objc func deleteButtonTapped() {
        showAlertAction2(
            preferredStyle: .alert,
            title: Constant.AlertText.deleteAlertTitleMessage
        ) {} _: {
            self.viewModel.deleteData()
            self.navigationController?.popViewController(animated: true)
        }
    }
}
```

- ë°ì´í„° ì‚­ì œ Scene - ViewModel
```swift
final class FoodDetailManagementViewModel {
    var isDelete = Observable(false)
    var completionHandler: ((Bool) -> Void)?

    func deleteData() {
        isDelete.value = true
	completionHandler?(isDelete.value)
    }
}
```

- ë°ì´í„°ë¥¼ ì‚­ì œí•˜ê¸° ì „ ë°ì´í„°ë¥¼ ë„˜ê²¨ì¤„ ViewController
```swift
final class FoodManagementViewController: BaseViewController {
    override func viewWillAppear(_ animated: Bool) {
        super.viewWillAppear(animated)
        performQuery(searchText: "", storageType: currentStorageType)
    }

    private func performQuery(
        searchText: String,
        sortType: SortType = .expiration,
        storageType: Constant.FoodStorageType
    ) {

    let item = viewModel.filterFoodData(
        query: searchText,
        sortType: sortType,
        storageType: storageType
    )
        
    guard let item else { return }
    updateEmptyView()

    var snapshot = NSDiffableDataSourceSnapshot<Section, Food>()
    snapshot.appendSections([.main])
    snapshot.appendItems(item)

    // relam ë°ì´í„° ì‚­ì œì‹œ snapshot ì²˜ë¦¬
    if let deleteFood = viewModel.deleteFoodData, !deleteFood.isInvalidated {
        snapshot.deleteItems([deleteFood])
        dataSource.apply(snapshot, animatingDifferences: true)
        RealmTableRepository.shared.delete(object: deleteFood)
        viewModel.filteredFoodDataArray = viewModel.filteredFoodData?.toArray()
            updateEmptyView()
    }
    dataSource.apply(snapshot, animatingDifferences: true)
    }
}

extension FoodManagementViewController: UICollectionViewDelegate {
    func collectionView(_ collectionView: UICollectionView, didSelectItemAt indexPath: IndexPath) {
        let nextVC = FoodDetailManagementViewController()
        guard let filteredFoodDataArray = self.viewModel.filteredFoodDataArray else { return }
        let food = filteredFoodDataArray[indexPath.item]
        nextVC.viewModel.food = food
        nextVC.viewModel.completionHandler = { [weak self] isDelete in
            guard let weakSelf = self else {return }
            if isDelete {
                weakSelf.viewModel.deleteFoodData = food
                weakSelf.view.makeToast(Constant.ToastMessage.foodDeleteSuccessMessage)
            }
        }
        transition(viewController: nextVC, style: .push)
    }
}
```

- ViewModel
```swift
final class FoodManagementViewModel {
    var deleteFoodData: Food?
}
```

<br>

### 3. DiffableDatasourceì˜ ê²€ìƒ‰ ì• ë‹ˆë©”ì´ì…˜ì„ êµ¬í˜„í•  ë•Œ í•œê¸€ ê²€ìƒ‰ìœ¼ë¡œ í•  ê²½ìš° ë¬¸ì œ
#### ë¬¸ì œ ìƒí™©
`DiffableDatasource`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¬ë ‰ì…˜ë·°ë¥¼ êµ¬ì„±í•˜ì˜€ê³ , ì‹í’ˆ ê²€ìƒ‰ì„ í•  ë•Œ í•œê¸€ë¡œ ê²€ìƒ‰ ì‹œ ì• ë‹ˆë©”ì´ì…˜ì„ íš¨ê³¼ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.

ì• í”Œì˜ ì˜ˆì œì—ì„œëŠ” ì˜ì–´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê²€ìƒ‰í•˜ì˜€ì„ ë•ŒëŠ” ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ê°€ ì˜ ì‹¤í–‰ë˜ì—ˆê³  ê·¸ê²ƒì„ ê¸°ë°˜ìœ¼ë¡œ í•œê¸€ ë˜í•œ ê°™ì€ ë¡œì§ì„ ì‚¬ìš©í•˜ë©´ ë¬¸ì œ ì—†ì„ ê²ƒì´ë¼ê³  ìƒê°í•˜ê³  ì ‘ê·¼í–ˆìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ í•œê¸€ì˜ ê²½ìš° ì…ë ¥ì„ ì‹œì‘í•  ë•Œ ì²˜ìŒì€ ì´ˆì„±ìœ¼ë¡œ ì‹œì‘í•˜ëŠ”ë° ì´ˆì„±ì— í•´ë‹¹í•˜ëŠ” ë°ì´í„°ëŠ” ë‹¹ì—°íˆ ì—†ìœ¼ë¯€ë¡œ ë¹ˆ ë°ì´í„°ë¥¼ ë³´ì—¬ì¤€ ë’¤ ê·¸ ë‹¤ìŒ ê¸€ìê°€ ì™„ì„±ë˜ì—ˆì„ ë•Œ í•´ë‹¹ ë°ì´í„°ë¥¼ ë·°ì— 
ê·¸ë¦¬ëŠ” ìˆœê°„ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ê°€ ë‚˜íƒ€ë‚˜ì§€ ì•ŠëŠ” ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.

#### ë¬¸ì œ í•´ê²°
ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” ìƒê°í–ˆë˜ ë°©ë²•ì€ ì‹í’ˆì„ ê²€ìƒ‰í•  ë•Œ ì´ˆì„± ê²€ìƒ‰ì´ ê°€ëŠ¥í•˜ë„ë¡ í•˜ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.
ì˜ˆë¥¼ ë“¤ì–´ 'ê³ êµ¬ë§ˆ'ë¼ëŠ” ì‹í’ˆì„ ê²€ìƒ‰í•  ë•Œ 'ã„±ã„±ã…' ë¥¼ ê²€ìƒ‰ì–´ë¡œ ì…ë ¥í–ˆì„ ë•Œ 'ê³ êµ¬ë§ˆ'ê°€ ê²€ìƒ‰ëœë‹¤ë©´ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ê°€ ì ìš©ë  ìˆ˜ ìˆì„ ê²ƒì´ê³  ì‚¬ìš©ì UXë˜í•œ íš¨ê³¼ì ìœ¼ë¡œ ì˜¬ë¦´ ìˆ˜ ìˆë‹¤ëŠ” ìƒê°ì„ í–ˆìŠµë‹ˆë‹¤.

ë¬¸ì œ í•´ê²°ì„ ìœ„í•´ ì‘ì„±í–ˆëŠ” ì½”ë“œë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.
- í•œê¸€ì˜ ììŒ, ëª¨ìŒì„ ë¶„ë¦¬í•˜ëŠ” ë©”ì„œë“œ
```swift
import Foundation

let korean = ["ã„±", "ã„²", "ã„´", "ã„·", "ã„¸", "ã„¹", "ã…", "ã…‚", "ã…ƒ", "ã……", "ã…†", "ã…‡", "ã…ˆ", "ã…‰", "ã…Š", "ã…‹", "ã…Œ", "ã…", "ã…"]

func getInitialConsonants(word: String) -> String {
    
    var result = ""
    
    for char in word {
        let scalar = char.unicodeScalars.first!
        if scalar >= "\u{AC00}" && scalar <= "\u{D7A3}" {
            let index = Int((scalar.value - 0xAC00) / 28 / 21)
            result.append(korean[index])
        } else {
            result.append(char)
        }
    }

    return result
}

func isChosung(word: String) -> Bool {
    var isChosung = false
    for char in word {
        if 0 < korean.filter({ $0.contains(char)}).count {
            isChosung = true
        } else {
            isChosung = false
            break
        }
    }
    return isChosung
}
```
- ê²€ìƒ‰ query
```swift
import Foundation

final class FoodRegisterListViewModel {
    var foodIconInfo = Observable(Constant.FoodConstant.foodIconInfo)
    var isSave = Observable(false)
    
    var completionHandler: ((Bool) -> Void)?
  
    func filterInitialConsonant(with searchText: String) -> [FoodModel] {
        let foodIconData = Constant.FoodConstant.foodIconInfo
        if searchText.isEmpty {
            return foodIconData
        }
        
        let text = searchText.trimmingCharacters(in: .whitespaces)
        let isChosungCheck = isChosung(word: text)

        let filteredData = foodIconData.filter({
            if isChosungCheck {
                return ($0.name.contains(text) || getInitialConsonants(word: $0.name).contains(text))
            } else {
                return $0.name.contains(text)
            }
        })
        return filteredData
    }
}
```

## ğŸ’¡ ì¶”í›„ ì—…ë°ì´íŠ¸ ì˜ˆì • ê¸°ëŠ¥
- MapKitì„ ì´ìš©í•œ ê·¼ì²˜ ì‹ë£Œí’ˆì  í™•ì¸
- ë ˆì‹œí”¼ í¬ë¡¤ë§, APIë¥¼ í™œìš©í•œ ì €ì¥ ê¸°ëŠ¥
- ì°¨íŠ¸ ë‹¤ë³€í™” ë° ìƒì„¸í™”
